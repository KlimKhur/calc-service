```markdown
# calc-service

Этот проект представляет собой веб-сервис, который вычисляет арифметические выражения. Пользователь отправляет арифметическое выражение через HTTP-запрос, и сервис возвращает результат вычисления.

## Как использовать

Сервис предоставляет один эндпоинт:

### `POST /api/v1/calculate`

**Запрос**: Отправляется POST-запрос с телом в формате JSON, содержащим арифметическое выражение.

Пример запроса:

```bash
curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{"expression": "2+2*2"}'
```

**Ответ**: В ответ возвращается JSON, содержащий результат выражения или сообщение об ошибке.

### Успешный запрос

Если выражение корректное, в ответе будет содержаться результат вычисления.

Пример успешного ответа:

```json
{
    "result": "6"
}
```

### Ошибки

Если выражение некорректно (например, содержит ошибку синтаксиса или недопустимые символы), сервис вернёт ошибку с кодом 422.

Пример ошибки при некорректном выражении:

```json
{
    "error": "Expression is not valid"
}
```

Если возникла непредвиденная ошибка (например, ошибка сервера), возвращается ошибка с кодом 500.

Пример ошибки сервера:

```json
{
    "error": "Internal server error"
}
```

## Как запустить проект

### Шаг 1: Клонируйте репозиторий

Сначала клонируйте репозиторий на свою машину:

```bash
git clone https://github.com/ваш_логин/calc-service.git
cd calc-service
```

### Шаг 2: Запустите сервер

Для запуска сервера выполните команду:

```bash
go run main.go
```

Сервер будет запущен на `http://localhost:8080`.

### Шаг 3: Сделайте запросы

Теперь вы можете отправлять запросы с помощью `curl` или любым другим инструментом для отправки HTTP-запросов (например, Postman).

### Шаг 4: Запуск тестов

Для запуска тестов используйте команду:

```bash
go test
```

## Структура проекта

- `main.go`: основной файл для запуска веб-сервиса.
- `calc/`: директория с модулем для вычисления выражений.
    - `calc.go`: основной файл с функциями для обработки выражений.
    - `calc_test.go`: тесты для модуля `calc`.
- `go.mod`: файл, управляющий зависимостями.
- `main_test.go`: тесты для обработки HTTP-запросов в `main.go`.

## Пример использования с `curl`

Пример корректного запроса:

```bash
curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{"expression": "2+2*2"}'
```

Пример ответа:

```json
{
    "result": "6"
}
```

Пример некорректного запроса (с ошибкой):

```bash
curl --location 'http://localhost:8080/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{"expression": "2++2"}'
```

Пример ошибки:

```json
{
    "error": "Expression is not valid"
}
```
